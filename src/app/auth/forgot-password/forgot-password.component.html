<ng-container *transloco="let t">
  <app-auth-layout [title]="t('AUTH.FORGOT.TITLE')">
    @if (isSubmitted && !isLoading) {
      <div class="text-center w-full">
        <i class="pi pi-check-circle text-green-500 text-4xl mb-3"></i>
        <h3>{{ t('AUTH.FORGOT.CHECK_EMAIL_TITLE') }}</h3>
        <p class="text-secondary">
          {{ t('AUTH.FORGOT.CHECK_EMAIL_MESSAGE') }}
        </p>
        <p-button
          [label]="t('AUTH.FORGOT.BACK_TO_LOGIN')"
          icon="pi pi-arrow-left"
          class="p-button-outlined mt-3 w-full action-button"
          routerLink="/login"
        >
        </p-button>
      </div>
    } @else {
      <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="w-full">
        <div class="flex flex-column field mb-3 w-full">
          <label for="email" class="mb-1">{{ t('AUTH.FORGOT.EMAIL_LABEL') }}</label>
          <input
            id="email"
            type="email"
            pInputText
            formControlName="email"
            [placeholder]="t('AUTH.FORGOT.EMAIL_PLACEHOLDER')"
            autocomplete="email"
            class="w-full"
          />
          @if (emailField?.invalid && emailField?.touched) {
            <small class="p-error">
              @if (emailField?.errors?.['required']) {
                {{ t('AUTH.FORGOT.EMAIL_REQUIRED') }}
              } @else if (emailField?.errors?.['email']) {
                {{ t('AUTH.FORGOT.EMAIL_INVALID') }}
              }
            </small>
          }
        </div>
        <div class="flex flex-column align-items-center justify-content-center mb-3 w-full mt-5">
          <p-button
            type="submit"
            [label]="t('AUTH.FORGOT.SEND_RESET_LINK')"
            icon="pi pi-send"
            class="mb-2 w-full action-button"
            [loading]="isLoading"
            [disabled]="true"
          ></p-button>
          <div class="text-center mt-2 w-full" style="color: var(--text-secondary, #888); font-size: 0.95rem">
            Available next release
          </div>
        </div>
      </form>
    }
    <p-toast></p-toast>
  </app-auth-layout>
</ng-container>
